<md-card [@initAnimation]>
  <md-card-header fxLayoutAlign="center">
    <md-card-title i18n> Add a new company</md-card-title>
  </md-card-header>

  <form [formGroup]="editForm" fxLayout="column" fxLayoutAlign="space-around center" id="company-edit-form">

    <md-input-container floatPlaceholder="never">
      <input mdInput placeholder="Company name"
             formControlName="name"
             [(ngModel)]="newCompany.title"
             id="company-add">
    </md-input-container>

    <div class="company-edit-licences">
    <md-input-container class="licences" fxFlexOffset="10">
        <label i18n>Voice licences</label>
        <input mdInput
               formControlName="voiceLicences"
               [(ngModel)]="newCompany.voiceLicences"
               id="company-voice-licences-add">
      </md-input-container>

      <md-input-container class="licences" fxFlexOffset="10">
        <label i18n>Digital licences</label>
        <input mdInput
               formControlName="digitalLicences"
               [(ngModel)]="newCompany.digitalLicences"
               id="company-digital-licences-add">
      </md-input-container>
    </div>
    <my-validation [control]="editForm.controls.name" id="company-name-validation"></my-validation>
    <my-validation [control]="editForm.controls.voiceLicences" id="company-voice-licences-validation"></my-validation>
    <my-validation [control]="editForm.controls.digitalLicences" id="company-digital-licences-validation"></my-validation>

  </form>
  <my-company-user-table [newUsers]="newUsers"></my-company-user-table>
  <button md-raised-button
          [disabled]="!myUserTable.showAddCompanyButton() || !myRoleTable.showAddCompanyButton()"
          (click)="addToCompany()"
          i18n
          id="add-to-company"> Add to company
  </button>
  <div class="company-tables" fxLayout="row" fxLayoutAlign="center space-around">
    <my-user-table (selectedUsers)="getSelectedUsers($event)" #myUserTable></my-user-table>
    <my-company-role-table (selectedRoles)="getSelectedRoles($event)" #myRoleTable></my-company-role-table>
  </div>
  <button md-raised-button
          [disabled]="!newCompany.title || !newCompany.digitalLicences || !newCompany.voiceLicences"
          (click)="addCompany({text: 'you want to add the company?'})"
          i18n
          id="submit-add-to-company"> Submit changes </button>
</md-card>
